/* empty css                *//* empty css               *//* empty css             */import{_ as M,r as k,o as F,a as H,b as g,c as I,d as x,e,f as i,w as s,g as n,n as j,h as t,u as b,i as a,F as p,j as S,k as E,t as m,l as y,m as q,E as A,p as R,q as Y,s as G,v as K,x as P,y as Q,z as W,A as X,B as Z}from"./index-c150de53.js";const ee="/assets/logo-d9172f40.png";const N=r=>(X("data-v-9d969f0f"),r=r(),Z(),r),te={class:"navbar-container"},se={style:{width:"100%",height:"60px","background-color":"#fff",display:"flex","align-items":"center","border-bottom":"1px solid #ddd"}},ne=N(()=>t("div",{style:{flex:"1"}},[t("div",{style:{"padding-left":"20px",display:"flex","align-items":"center"}},[t("img",{src:ee,alt:"",style:{width:"30px"}}),t("div",{style:{"font-weight":"bold","font-size":"20px","margin-left":"3px"}}," 线上图书售卖 ")])],-1)),oe={style:{"border-right":"1px solid #ddd",flex:"5"}},ae={key:0},le=N(()=>t("span",null,"退出系统",-1)),re={style:{width:"fit-content","padding-right":"10px",display:"flex","align-items":"center"}},ce=["src"],de={style:{"margin-left":"5px"}},ie={key:0},ue={__name:"stickyNavbar",setup(r){const c=k(!1),u=k(0),f=()=>{const d=window.pageYOffset||document.documentElement.scrollTop;d>u.value?c.value=!0:c.value=!1,u.value=d<=0?0:d};F(()=>{window.addEventListener("scroll",f)}),H(()=>{window.removeEventListener("scroll",f)});const w=g.options.routes[0].children,l=I({user:JSON.parse(localStorage.getItem("system-user")||"{}")}),B=()=>{g.push("/login")},C=()=>{A.success("退出成功"),localStorage.removeItem("system-user")};return(d,he)=>{const _=R,h=Y,T=x("Menu"),z=G,L=x("SwitchButton"),O=K,U=P,$=Q,J=W;return e(),i(J,null,{default:s(()=>[n(U,{class:j({"navbar-hidden":c.value})},{default:s(()=>[t("div",te,[t("div",se,[ne,t("div",oe,[n(O,{router:"",style:{border:"none"},mode:"horizontal","default-active":b(g).currentRoute.value.path,"default-openeds":[]},{default:s(()=>[(e(!0),a(p,null,S(b(w),(o,V)=>(e(),a("div",{key:V},[o.params.show===!0?(e(),a("div",ae,[o.children==null?(e(),a(p,{key:0},[l.user.role===o.params.role||o.params.role==null?(e(),i(h,{key:0,index:o.path},{default:s(()=>[n(_,null,{default:s(()=>[(e(),i(E(o.params.icon)))]),_:2},1024),t("span",null,m(o.params.showText),1)]),_:2},1032,["index"])):y("",!0)],64)):(e(),a(p,{key:1},[l.user.role===o.params.role||o.params.role==null?(e(),i(z,{key:0,index:o.params.index},{title:s(()=>[n(_,null,{default:s(()=>[n(T)]),_:1}),t("span",null,m(o.params.showText),1)]),default:s(()=>[(e(!0),a(p,null,S(o.children,(v,D)=>(e(),a("div",{key:D},[n(h,{index:v.path},{default:s(()=>[n(_,null,{default:s(()=>[(e(),i(E(v.params.icon)))]),_:2},1024),t("span",null,m(v.params.showText),1)]),_:2},1032,["index"])]))),128))]),_:2},1032,["index"])):y("",!0)],64))])):y("",!0)]))),128)),n(h,{index:"login",onClick:C},{default:s(()=>[n(_,null,{default:s(()=>[n(L)]),_:1}),le]),_:1})]),_:1},8,["default-active"])]),t("div",re,[t("img",{style:{width:"40px",height:"40px","border-radius":"50%"},src:l.user.avatar||"https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png",alt:""},null,8,ce),t("span",de,[l.user.id!=null?(e(),a("div",ie,m(l.user.name),1)):(e(),a("div",{key:1,onClick:B,style:{cursor:"pointer"}}," 请登录 "))])])])])]),_:1},8,["class"]),n($,null,{default:s(()=>[q(d.$slots,"default",{},void 0,!0)]),_:3})]),_:3})}}},_e=M(ue,[["__scopeId","data-v-9d969f0f"]]);const pe={class:"main-container"},me={class:"view-container",style:{width:"100%"}},fe={__name:"Manager",setup(r){const c=I({user:JSON.parse(localStorage.getItem("system-user")||"{}")}),u=()=>{c.user=JSON.parse(localStorage.getItem("system-user")||"{}")};return(f,w)=>{const l=x("router-view");return e(),a("div",pe,[n(_e),t("div",me,[n(l,{onUpdateUser:u,style:{margin:"0 auto"}})])])}}},we=M(fe,[["__scopeId","data-v-3fecc75c"]]);export{we as default};
