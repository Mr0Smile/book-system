/* empty css                *//* empty css                  *//* empty css               */import{r as c}from"./request-9dc1f99e.js";import{c as _,e as w,i as f,h as u,g as s,w as r,W as g,N as V,E as a,b as y,K as h,Y as x,J as P}from"./index-c150de53.js";const E={style:{width:"50%"}},b={class:"card",style:{padding:"30px"}},N={style:{"text-align":"center"}},U={__name:"Password",setup(v){const e=_({user:JSON.parse(localStorage.getItem("system-user")||"{}")}),m=()=>{if(e.user.role!=="null"){a.info("请先登录");return}if(e.user.newPassword!==e.user.confirmPasword){a.error("确认新密码错误");return}c.put("/updatePassword",e.user).then(l=>{l.code==="200"?(a.success("修改密码成功"),localStorage.setItem("system-user",JSON.stringify(e.user)),y.push("/login")):a.error(l.msg)})};return(l,o)=>{const d=h,n=x,i=P,p=g;return w(),f("div",E,[u("div",b,[s(p,{model:e.user,"label-width":"100px",style:{"padding-right":"50px"}},{default:r(()=>[s(n,{label:"原密码"},{default:r(()=>[s(d,{modelValue:e.user.password,"onUpdate:modelValue":o[0]||(o[0]=t=>e.user.password=t),"show-password":""},null,8,["modelValue"])]),_:1}),s(n,{label:"新密码"},{default:r(()=>[s(d,{modelValue:e.user.newPassword,"onUpdate:modelValue":o[1]||(o[1]=t=>e.user.newPassword=t),"show-password":""},null,8,["modelValue"])]),_:1}),s(n,{label:"确认新密码"},{default:r(()=>[s(d,{modelValue:e.user.confirmPasword,"onUpdate:modelValue":o[2]||(o[2]=t=>e.user.confirmPasword=t),"show-password":""},null,8,["modelValue"])]),_:1}),u("div",N,[s(i,{type:"primary",onClick:m},{default:r(()=>[V("保存")]),_:1})])]),_:1},8,["model"])])])}}};export{U as default};
