/* empty css                *//* empty css                  *//* empty css               *//* empty css               *//* empty css               */import{_ as w,a as V,z as y,o as I,c as E,h as i,d as o,w as s,M as b,u as m,I as _,p as z,n as N,E as u,r as S,B as k,L as B,Q as L,R as M,C as q,X as C,Y as R}from"./index-3f6e6985.js";import{r as U}from"./request-d9b764dc.js";const c=l=>(z("data-v-51201fe5"),l=l(),N(),l),A={class:"login-container"},D={class:"login-box"},F=c(()=>i("div",{style:{"font-weight":"bold","font-size":"24px","text-align":"center","margin-bottom":"30px",color:"#815c47"}}," 欢 迎 登 录 ",-1)),O=c(()=>i("div",{style:{"text-align":"right"}},[_(" 还没有账号？请 "),i("a",{href:"/register"},"注册")],-1)),J={__name:"Login",setup(l){const t=V({form:{role:"ADMIN"},rules:{username:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}),d=y(),f=()=>{d.value.validate(a=>{a&&U.post("/login",t.form).then(e=>{e.code==="200"?(u.success("登录成功"),S.push("/"),localStorage.setItem("system-user",JSON.stringify(e.data))):u.error(e.msg)})}).catch(a=>{console.error(a)})};return(a,e)=>{const p=k,n=B,g=L,x=M,h=q,v=b;return I(),E("div",A,[i("div",D,[F,o(v,{model:t.form,ref_key:"formRef",ref:d,rules:t.rules},{default:s(()=>[o(n,{prop:"username"},{default:s(()=>[o(p,{"prefix-icon":m(C),size:"large",modelValue:t.form.username,"onUpdate:modelValue":e[0]||(e[0]=r=>t.form.username=r),placeholder:"请输入账号"},null,8,["prefix-icon","modelValue"])]),_:1}),o(n,{prop:"password"},{default:s(()=>[o(p,{"prefix-icon":m(R),size:"large",modelValue:t.form.password,"onUpdate:modelValue":e[1]||(e[1]=r=>t.form.password=r),placeholder:"请输入密码","show-password":""},null,8,["prefix-icon","modelValue"])]),_:1}),o(n,{prop:"role"},{default:s(()=>[o(x,{size:"large",style:{width:"100%"},modelValue:t.form.role,"onUpdate:modelValue":e[2]||(e[2]=r=>t.form.role=r)},{default:s(()=>[o(g,{value:"ADMIN",label:"管理员"})]),_:1},8,["modelValue"])]),_:1}),o(n,null,{default:s(()=>[o(h,{size:"large",type:"primary",style:{width:"100%"},onClick:f},{default:s(()=>[_("登 录")]),_:1})]),_:1})]),_:1},8,["model","rules"]),O])])}}},K=w(J,[["__scopeId","data-v-51201fe5"]]);export{K as default};
